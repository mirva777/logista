<!DOCTYPE html>
<html>
<head>
    <title>Database</title>
    <style>
        .block {
            display : block;
            margin-top: 50px;
        }
        .block1 {
            display : block;
        }
        label{
            display : block;
        }
    </style>
</head>
<body>
    <h1>Enter Values into Database</h1>
    
    <form action="" method="post">
        <label for="fromDropdown">From</label>
        <select id="fromDropdown" name="something else">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
        </select>

        <label for="toDropdown">To</label>
        <select id="toDropdown" name="toDropdown">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
        </select>
        
        <label for="city">Which city:</label>
        <input type="text" id="city" name="city" required>
        
        <label for="loadName">Load name:</label>
        <input type="text" id="loadName" name="loadName" required>

        <label for="loadWeight">Load weight:</label>
        <input type="text" id="loadWeight" name="loadWeight" required>

        <label for="trailerType">Trailer type</label>   
        <select id="trailerType" name="trailerType">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <optgroup label="trtr">
                <option value="subcategory1">Subcategory 1</option>
                <option value="subcategory2">Subcategory 2</option>
            </optgroup>
        </select>

        <label for="paymentAmount">Payment:</label>
        <input type="text" id="paymentAmount" name="paymentAmount" required>
        
        <label for="paymentType">Payment type</label>
        <select id="paymentType" name="paymentType">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
        </select>

        <label for="prepayment">Prepayment in percents:</label>
        <input type="text" id="prepayment" name="prepayment" required>

        <label for="adr">ADR</label>
        <select id="adr" name="adr">
            <option value="option1">Da</option>
            <option value="option2">Net</option>
        </select>

        <label for="tir">Carnet TIR</label>
        <select id="tir" name="tir">
            <option value="option1">Da</option>
            <option value="option2">Net</option>
        </select>
        
        <label for="carAmount">Car amount:</label>
        <input type="number" id="carAmount" name="carAmount" required>

        <label for="loadStatus">Load:</label>
        <select id="loadStatus" name="loadStatus">
            <option value="ready">Ready</option>
            <option value="notReady">Not Ready</option>
        </select>

        <label for="contacts">Contacts:</label>
        <textarea id="contacts" name="contacts" required></textarea>
        
        <label for="otherInfo">Other info:</label>
        <textarea id="otherInfo" name="otherInfo" required></textarea>


        <input class="block" type="submit" value="Submit">
    </form>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(form);
            let object = {};
            formData.forEach((value, key) => {
                if (!Reflect.has(object, key)) {
                    object[key] = value;
                    return;
                }
                if (!Array.isArray(object[key])) {
                    object[key] = [object[key]];    
                }
                object[key].push(value);
            });

            console.log("Form data object:", object);

            // Uncomment the line below to send data back to your Telegram bot
            Telegram.WebApp.sendData(JSON.stringify(object));
        });
    });
    </script>
</body>
</html>
